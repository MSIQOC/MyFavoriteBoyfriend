<!DOCTYPE html>
<html lang="ko">
    <head>
        <meta charset="UTF-8"/>
        <meta name="viewport" content="width=device-width, initial-scale=1.0"/>

         <!-- Bootstrap CSS -->
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css"
              integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm"
              crossorigin="anonymous">

        <!-- JS -->
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"
                integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q"
                crossorigin="anonymous"></script>

        <!-- êµ¬ê¸€í°íŠ¸ -->
        <link href="https://fonts.googleapis.com/css?family=Stylish&display=swap" rel="stylesheet">

        <title>ë§ˆì´ í˜ì´ë³´ë¦¿ ë³´ì´í”„ë Œë“œ</title>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.8.0/css/bulma.min.css"/>
        <script defer src="https://use.fontawesome.com/releases/v5.3.1/js/all.js"></script>
       <script type="text/javascript">
            function addBoyfriend() {
                // 1. ì œëª©, ì €ì, ë¦¬ë·° ë‚´ìš©ì„ ê°€ì ¸ì˜µë‹ˆë‹¤.
                let name = $('#add-name').val();
                let personality = $('#add-personality').val();
                let age = $('#add-age').val();
                let hobby = $('#add-hobby').val();
                let bloodType = $('#add-blood-type').val();
                // 2. ì œëª©, ì €ì, ë¦¬ë·° ì¤‘ í•˜ë‚˜ë¼ë„ ì…ë ¥í•˜ì§€ ì•Šì•˜ì„ ê²½ìš° alertë¥¼ ë„ì›ë‹ˆë‹¤.

                if(name == ''){
                    alert('ë‚¨ìì¹œêµ¬ì˜ ì´ë¦„ì„ ì…ë ¥í•´ì£¼ì„¸ìš”!');
                    location.href = "add";
                    return;
                }
                else if(personality == ''){
                    alert('ë‚¨ìì¹œêµ¬ì˜ ì„±ê²©ì„ ì…ë ¥í•´ì£¼ì„¸ìš”!')
                    location.href = "add";
                    return;
                }
                else if(age == ''){
                    alert('ë‚¨ìì¹œêµ¬ì˜ ë‚˜ì´ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”!')
                    location.href = "add";
                    return;
                }
                else if(hobby == ''){
                    alert('ë‚¨ìì¹œêµ¬ì˜ ì·¨ë¯¸ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”!')
                    location.href = "add";
                    return;
                }
                else if(bloodType == ''){
                    alert('ë‚¨ìì¹œêµ¬ì˜ í˜ˆì•¡í˜•ì„ ì…ë ¥í•´ì£¼ì„¸ìš”!')
                    location.href = "add";
                    return;
                }
                // 3. POST /review ì— ì €ì¥ì„ ìš”ì²­í•©ë‹ˆë‹¤.
                $.ajax({
                    type: "POST",
                    url: "/adding",
                    data: {
                        name, personality, age, hobby, bloodType
                    },
                    success: function (response) { //ì—¬ê¸°ì—ì„œ responseëŠ” app.pyì—ì„œ ë„˜ê²¨ë°›ì„ ê²ƒë“¤
                        console.log(response)
                        if (response["result"] == "success") {
                            alert(response["msg"]);
                            location.href = "/";
                            //window.location.reload();
                        }
                        else {
                            alert(response["msg"])
                        }
                    }
                })

            }
        </script>
        <style>
            .center {
                text-align: center;
            }

        </style>
    </head>
    <body>
        <section class="hero is-warning">
            <div class="hero-body">
                <div class="container center">
                    <h1 class="title">
                        ë§ˆì´ í˜ì´ë³´ë¦¿ ë³´ì´í”„ë Œë“œğŸ˜†
                    </h1>
                </div>
            </div>
        </section>
        <div class="star-list" id="star-box">

        </div>
        <div class="center"><br>
            ì´ë¦„: <input type="text"  id="add-name"><br><br>
            ì„±ê²©: <input type="text"  id="add-personality"><br><br>
            ë‚˜ì´: <input type="text"  id="add-age"><br><br>
            ì·¨ë¯¸: <input type="text"  id="add-hobby"><br><br>
            í˜ˆì•¡í˜•: <input type="text"  id="add-blood-type"><br><br>
            <button onclick="addBoyfriend()" id="add-button" type="submit" class="btn btn-primary" > ì¶”ê°€í•˜ê¸° </button>
        </div>
    </body>
</html>